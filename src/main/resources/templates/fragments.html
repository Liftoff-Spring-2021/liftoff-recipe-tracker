<!DOCTYPE html>
<html lang="en" xmlns:th="https://thymeleaf.org/">
<head th:fragment="head">
	<meta charset="UTF-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<title>Liftoff Recipe Tracker</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
	<link href="https://cdn.jsdelivr.net/gh/gitbrent/bootstrap4-toggle@3.6.1/css/bootstrap4-toggle.min.css" rel="stylesheet">
	<link th:href="@{/styles.css}" rel="stylesheet"/>
</head>
<body>
<nav class="navbar-nav navbar-expand-md navbar-dark bg-dark" th:fragment="navigation">
	<div class="collapse navbar-collapse justify-content-end">
		<h1 class="navbar-brand" th:text="${title}">LRT</h1>
		<ul class="navbar-nav mr-auto mt-2 mt-lg-0">
			<li class="nav-item">
				<a class="nav-link" th:href="@{/home}">Home</a>
			</li>
			<li class="nav-item dropdown">
				<a class="nav-link dropdown-toggle" id="navbarDropdownOne" role="button" data-toggle="dropdown">Recipes</a>
				<div class="dropdown-menu">
					<a class="dropdown-item" th:href="@{/recipes}">View All</a>
					<a class="dropdown-item" th:href="@{/recipes/create}">Create a Recipe</a>
					<a class="dropdown-item" th:href="@{/recipes/delete}">Delete a Recipe</a>
				</div>

			</li>
			<li class="nav-item dropdown">
				<a class="nav-link dropdown-toggle" id="navbarDropdownTwo" role="button" data-toggle="dropdown">Categories</a>
				<div class="dropdown-menu">
					<a class="dropdown-item" th:href="@{/categories}">View All / Edit / Copy</a>
					<a class="dropdown-item" th:href="@{/categories/create}">Create a Category</a>
					<a class="dropdown-item" th:href="@{/categories/delete}">Delete a Category</a>
				</div>
			</li>
			<li class="nav-item dropdown">
				<a class="nav-link dropdown-toggle" id="navbarDropdownThree" role="button" data-toggle="dropdown">Beverages</a>
				<div class="dropdown-menu">
					<a class="dropdown-item" th:href="@{/beverages}">View All / Edit / Copy</a>
					<a class="dropdown-item" th:href="@{/beverages/create}">Create a Beverage</a>
					<a class="dropdown-item" th:href="@{/beverages/delete}">Delete a Beverage</a>
				</div>
			</li>
		</ul>
		<ul class="navbar-nav ml-auto mt-2 mt-lg-0">
			<li class="nav-item align-right">
				<a class="nav-link" th:href="@{/register}">Register</a>
			</li>
			<li class="nav-item align-right">
				<a class="nav-link" th:href="@{/logout}">Logout</a>
			</li>
		</ul>
		<form class="form-inline mt-2 mt-lg-0" th:action="@{/search/results}" method = "post">
			<input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search" name="searchTerm" id="searchTerm">
			<button class="btn btn-outline-success mt-2 mt-sm-0" type="submit">Search</button>
		</form>
	</div>
</nav>
<footer th:fragment="footer" class="container-fluid sticky-bottom">
	<p class="footer-content">Created for Liftoff</p>
</footer>
<div th:fragment="bootstrap-javascript">
	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/gh/gitbrent/bootstrap4-toggle@3.6.1/js/bootstrap4-toggle.min.js"></script>
</div>

<div th:fragment="category-form-group">
	<div class="form-group">
		<label class="font-weight-bold">Category Name
			<input th:field="${category.name}" class="form-control">
		</label>
		<span th:errors="${category.name}" class="error"></span>
	</div>
</div>

<div th:fragment="beverage-form-group">
	<div class="form-group md-4">
		<label class="font-weight-bold">Beverage Name
			<input th:field="${beverage.name}" class="form-control">
		</label>
		<span th:errors="${beverage.name}" class="error"></span>
	</div>
</div>

<!-- recipe form group -->
<div th:fragment="recipe-form-group">
	<div class="row">
		<div class="col-md-3">
			<div class="form-group">
				<label class="font-weight-bold">Recipe Name
					<input th:field="${recipe.name}"  class="form-control">
				</label>
				<span th:errors="${recipe.name}" class="error"></span>
			</div>
		</div>
	</div>

	<div class="row">
		<div class="col-md-3">
			<div class="form-group">
				<label class="font-weight-bold">Description
					<textarea th:field="${recipe.description}" th:value="${recipe.description}" class="form-control"></textarea>
				</label>
				<span th:errors="${recipe.description}" class="error"></span>
			</div>
		</div>

		<div class="col-md-3 offset-md-2">
			<div class="form-group">
				<label class="font-weight-bold">Servings
					<input th:field="${recipe.servings}" th:value="${recipe.servings}" class="form-control">
				</label>
				<span th:errors="${recipe.servings}" class="error"></span>
			</div>
		</div>
	</div>

	<div class="row">
		<div class="col-md-3">
			<div class="form-group">
				<label class="font-weight-bold">Ingredients
					<textarea th:field="${recipe.ingredients}" th:value="${recipe.ingredients}" class="form-control"></textarea>
				</label>
				<span th:errors="${recipe.ingredients}" class="error"></span>
			</div>
		</div>
		<div class="col-md-3 offset-md-2">
			<div class="form-group">
				<label class="font-weight-bold">Directions
					<textarea th:field="${recipe.directions}" th:value="${recipe.directions}" class="form-control"></textarea>
				</label>
				<span th:errors="${recipe.directions}" class="error"></span>
			</div>
	</div>
	</div>

	<div class="row">
		<div class="col-md-3">
			<div class="form-group">
				<label class="font-weight-bold">Prep Time (in minutes)
					<input th:field="${recipe.prepTime}" th:value="${recipe.prepTime}" class="form-control">
				</label>
				<span th:errors="${recipe.prepTime}" class="error"></span>
			</div>

		</div>
		<div class="col-md-3 offset-md-2">
			<div class="form-group">
				<label class="font-weight-bold">Cook Time (in minutes)
					<input th:field="${recipe.cookTime}" th:value="${recipe.cookTime}" class="form-control">
				</label>
				<span th:errors="${recipe.cookTime}" class="error"></span>
			</div>
		</div>
	</div>

	<div class="row">
		<div class="col-md-3">
			<div class="form-group">
				<label class="font-weight-bold">Image URL
					<input th:field="${recipe.image}" th:value="${recipe.image}" class="form-control">
				</label>
				<span th:errors="${recipe.image}" class="error"></span>
			</div>
		</div>
		<div class="col-md-3 offset-md-2">
			<div class="form-group">
				<label>Favorite
					<input type="checkbox" data-toggle="toggle" data-size="sm" th:field="${recipe.favorite}" th:value="${recipe.favorite}" class="form-control">
				</label>
			</div>
		</div>
	</div>

	<div class="row">
		<div class="col-md-5 border border-success">
			<div class="form-group">
				<label class="font-weight-bold" th:for="categories">Categories: </label>
				<th:block th:each="category : ${categories}">
				   <span th:if="${recipe.categories.contains(category)}">
						 <input type="checkbox" name="categories" th:checked="${recipe.categories}"  th:value="${category.id}" ></span>
					<span th:unless="${recipe.categories.contains(category)}">
						 <input type="checkbox" name="categories" th:value="${category.id}"></span>
					<label th:text="${category.name}"></label>
				</th:block>
			</div>
		</div>
		<div class="col-md-5 offset-md-2 border border-success">
			<div class="form-group">
				<label class="font-weight-bold" th:for="beverages">Beverages: </label>
				<th:block th:each="beverage : ${beverages}">
					<div>
					  <span th:if="${recipe.beverages.contains(beverage)}">
							 <input type="checkbox" name="beverages"  th:checked="${recipe.beverages}" th:value="${beverage.id}"></span>
						<span th:unless="${recipe.beverages.contains(beverage)}">
							<input type="checkbox" name="beverages" th:value="${beverage.id}"></span>
						<label th:text="${beverage.name}"></label>
					</div>
				</th:block>
			</div>
		</div>
	</div>

</div>
</body>
</html>